# Claude Relay Service

<div align="center">

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org/)
[![Redis](https://img.shields.io/badge/Redis-6+-red.svg)](https://redis.io/)
[![Docker](https://img.shields.io/badge/Docker-Ready-blue.svg)](https://www.docker.com/)

**ğŸ” è‡ªè¡Œæ­å»ºClaude APIä¸­è½¬æœåŠ¡ï¼Œæ”¯æŒå¤šè´¦æˆ·ç®¡ç†** 

[English](#english) â€¢ [ä¸­æ–‡æ–‡æ¡£](#ä¸­æ–‡æ–‡æ¡£) â€¢ [ğŸ“¸ ç•Œé¢é¢„è§ˆ](docs/preview.md)

</div>

---

## âš ï¸ é‡è¦æé†’

**ä½¿ç”¨æœ¬é¡¹ç›®å‰è¯·ä»”ç»†é˜…è¯»ï¼š**

ğŸš¨ **æœåŠ¡æ¡æ¬¾é£é™©**: ä½¿ç”¨æœ¬é¡¹ç›®å¯èƒ½è¿åAnthropicçš„æœåŠ¡æ¡æ¬¾ã€‚è¯·åœ¨ä½¿ç”¨å‰ä»”ç»†é˜…è¯»Anthropicçš„ç”¨æˆ·åè®®ï¼Œä½¿ç”¨æœ¬é¡¹ç›®çš„ä¸€åˆ‡é£é™©ç”±ç”¨æˆ·è‡ªè¡Œæ‰¿æ‹…ã€‚

ğŸ“– **å…è´£å£°æ˜**: æœ¬é¡¹ç›®ä»…ä¾›æŠ€æœ¯å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œä½œè€…ä¸å¯¹å› ä½¿ç”¨æœ¬é¡¹ç›®å¯¼è‡´çš„è´¦æˆ·å°ç¦ã€æœåŠ¡ä¸­æ–­æˆ–å…¶ä»–æŸå¤±æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚

---

## ğŸŒŸ æ¨èé˜…è¯»

> ğŸ’¡ **æ„Ÿè°¢ [Vibe Coding](https://x.com/vista8) çš„æ¨èï¼**
> 
> å¦‚æœä½ å¯¹Vibe codingæ„Ÿå…´è¶£ï¼Œæ¨èå…³æ³¨ï¼š
> - ğŸ¦ **X**: [@vista8](https://x.com/vista8) - åˆ†äº«å‰æ²¿æŠ€æœ¯åŠ¨æ€
> - ğŸ“± **å…¬ä¼—å·**: å‘é˜³ä¹”æœ¨æ¨èçœ‹  

---

## ğŸ¤” è¿™ä¸ªé¡¹ç›®é€‚åˆä½ å—ï¼Ÿ

- ğŸŒ **åœ°åŒºé™åˆ¶**: æ‰€åœ¨åœ°åŒºæ— æ³•ç›´æ¥è®¿é—®Claude CodeæœåŠ¡ï¼Ÿ
- ğŸ”’ **éšç§æ‹…å¿§**: æ‹…å¿ƒç¬¬ä¸‰æ–¹é•œåƒæœåŠ¡ä¼šè®°å½•æˆ–æ³„éœ²ä½ çš„å¯¹è¯å†…å®¹ï¼Ÿ
- ğŸ‘¥ **æˆæœ¬åˆ†æ‘Š**: æƒ³å’Œæœ‹å‹ä¸€èµ·åˆ†æ‘ŠClaude Code Maxè®¢é˜…è´¹ç”¨ï¼Ÿ
- âš¡ **ç¨³å®šæ€§**: ç¬¬ä¸‰æ–¹é•œåƒç«™ç»å¸¸æ•…éšœä¸ç¨³å®šï¼Œå½±å“æ•ˆç‡ ï¼Ÿ

å¦‚æœæœ‰ä»¥ä¸Šå›°æƒ‘ï¼Œé‚£è¿™ä¸ªé¡¹ç›®å¯èƒ½é€‚åˆä½ ã€‚

### é€‚åˆçš„åœºæ™¯

âœ… **æ‰¾æœ‹å‹æ‹¼è½¦**: ä¸‰äº”å¥½å‹ä¸€èµ·åˆ†æ‘ŠClaude Code Maxè®¢é˜…ï¼ŒOpusçˆ½ç”¨  
âœ… **éšç§æ•æ„Ÿ**: ä¸æƒ³è®©ç¬¬ä¸‰æ–¹é•œåƒçœ‹åˆ°ä½ çš„å¯¹è¯å†…å®¹  
âœ… **æŠ€æœ¯æŠ˜è…¾**: æœ‰åŸºæœ¬çš„æŠ€æœ¯åŸºç¡€ï¼Œæ„¿æ„è‡ªå·±æ­å»ºå’Œç»´æŠ¤  
âœ… **ç¨³å®šéœ€æ±‚**: éœ€è¦é•¿æœŸç¨³å®šçš„Claudeè®¿é—®ï¼Œä¸æƒ³å—åˆ¶äºé•œåƒç«™  
âœ… **åœ°åŒºå—é™**: æ— æ³•ç›´æ¥è®¿é—®Claudeå®˜æ–¹æœåŠ¡  

### ä¸é€‚åˆçš„åœºæ™¯

âŒ **çº¯å°ç™½**: å®Œå…¨ä¸æ‡‚æŠ€æœ¯ï¼Œè¿æœåŠ¡å™¨éƒ½ä¸ä¼šä¹°  
âŒ **å¶å°”ä½¿ç”¨**: ä¸€ä¸ªæœˆç”¨ä¸äº†å‡ æ¬¡ï¼Œæ²¡å¿…è¦æŠ˜è…¾  
âŒ **æ³¨å†Œé—®é¢˜**: æ— æ³•è‡ªè¡Œæ³¨å†ŒClaudeè´¦å·  
âŒ **æ”¯ä»˜é—®é¢˜**: æ²¡æœ‰æ”¯ä»˜æ¸ é“è®¢é˜…Claude Code  

**å¦‚æœä½ åªæ˜¯æ™®é€šç”¨æˆ·ï¼Œå¯¹éšç§è¦æ±‚ä¸é«˜ï¼Œéšä¾¿ç©ç©ã€æƒ³å¿«é€Ÿä½“éªŒ Claudeï¼Œé‚£é€‰ä¸ªä½ ç†ŸçŸ¥çš„é•œåƒç«™ä¼šæ›´åˆé€‚ã€‚**

---

## ğŸ’­ ä¸ºä»€ä¹ˆè¦è‡ªå·±æ­ï¼Ÿ


### ç°æœ‰é•œåƒç«™å¯èƒ½çš„é—®é¢˜

- ğŸ•µï¸ **éšç§é£é™©**: ä½ çš„å¯¹è¯å†…å®¹éƒ½è¢«äººå®¶çœ‹å¾—ä¸€æ¸…äºŒæ¥šï¼Œå•†ä¸šæœºå¯†ä»€ä¹ˆçš„å°±åˆ«æƒ³äº†
- ğŸŒ **æ€§èƒ½ä¸ç¨³**: ç”¨çš„äººå¤šäº†å°±æ…¢ï¼Œé«˜å³°æœŸç»å¸¸å¡æ­»
- ğŸ’° **ä»·æ ¼ä¸é€æ˜**: ä¸çŸ¥é“å®é™…æˆæœ¬

### è‡ªå»ºçš„å¥½å¤„

- ğŸ” **æ•°æ®å®‰å…¨**: æ‰€æœ‰æ¥å£è¯·æ±‚éƒ½åªç»è¿‡ä½ è‡ªå·±çš„æœåŠ¡å™¨ï¼Œç›´è¿Anthropic API
- âš¡ **æ€§èƒ½å¯æ§**: å°±ä½ ä»¬å‡ ä¸ªäººç”¨ï¼ŒMax 200åˆ€å¥—é¤åŸºæœ¬ä¸Šå¯ä»¥çˆ½ç”¨Opus
- ğŸ’° **æˆæœ¬é€æ˜**: ç”¨äº†å¤šå°‘tokenä¸€ç›®äº†ç„¶ï¼ŒæŒ‰å®˜æ–¹ä»·æ ¼æ¢ç®—äº†å…·ä½“è´¹ç”¨
- ğŸ“Š **ç›‘æ§å®Œæ•´**: ä½¿ç”¨æƒ…å†µã€æˆæœ¬åˆ†æã€æ€§èƒ½ç›‘æ§å…¨éƒ½æœ‰

---

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

> ğŸ“¸ **[ç‚¹å‡»æŸ¥çœ‹ç•Œé¢é¢„è§ˆ](docs/preview.md)** - æŸ¥çœ‹Webç®¡ç†ç•Œé¢çš„è¯¦ç»†æˆªå›¾

### åŸºç¡€åŠŸèƒ½
- âœ… **å¤šè´¦æˆ·ç®¡ç†**: å¯ä»¥æ·»åŠ å¤šä¸ªClaudeè´¦æˆ·è‡ªåŠ¨è½®æ¢
- âœ… **è‡ªå®šä¹‰API Key**: ç»™æ¯ä¸ªäººåˆ†é…ç‹¬ç«‹çš„Key
- âœ… **ä½¿ç”¨ç»Ÿè®¡**: è¯¦ç»†è®°å½•æ¯ä¸ªäººç”¨äº†å¤šå°‘token

### é«˜çº§åŠŸèƒ½
- ğŸ”„ **æ™ºèƒ½åˆ‡æ¢**: è´¦æˆ·å‡ºé—®é¢˜è‡ªåŠ¨æ¢ä¸‹ä¸€ä¸ª
- ğŸš€ **æ€§èƒ½ä¼˜åŒ–**: è¿æ¥æ± ã€ç¼“å­˜ï¼Œå‡å°‘å»¶è¿Ÿ
- ğŸ“Š **ç›‘æ§é¢æ¿**: Webç•Œé¢æŸ¥çœ‹æ‰€æœ‰æ•°æ®
- ğŸ›¡ï¸ **å®‰å…¨æ§åˆ¶**: è®¿é—®é™åˆ¶ã€é€Ÿç‡æ§åˆ¶
- ğŸŒ **ä»£ç†æ”¯æŒ**: æ”¯æŒHTTP/SOCKS5ä»£ç†

---

## ğŸ“‹ éƒ¨ç½²è¦æ±‚

### ç¡¬ä»¶è¦æ±‚ï¼ˆæœ€ä½é…ç½®ï¼‰
- **CPU**: 1æ ¸å¿ƒå°±å¤Ÿäº†
- **å†…å­˜**: 512MBï¼ˆå»ºè®®1GBï¼‰
- **ç¡¬ç›˜**: 30GBå¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: èƒ½è®¿é—®åˆ°Anthropic APIï¼ˆå»ºè®®ä½¿ç”¨USåœ°åŒºçš„æœºå™¨ï¼‰
- **å»ºè®®**: 2æ ¸4Gçš„åŸºæœ¬å¤Ÿäº†ï¼Œç½‘ç»œå°½é‡é€‰å›å›½çº¿è·¯å¿«ä¸€ç‚¹çš„ï¼ˆä¸ºäº†æé«˜é€Ÿåº¦ï¼Œå»ºè®®ä¸è¦å¼€ä»£ç†æˆ–è€…è®¾ç½®æœåŠ¡å™¨çš„IPç›´è¿ï¼‰

### è½¯ä»¶è¦æ±‚
- **Node.js** 18æˆ–æ›´é«˜ç‰ˆæœ¬
- **Redis** 6æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**: å»ºè®®Linux

### è´¹ç”¨ä¼°ç®—
- **æœåŠ¡å™¨**: è½»é‡äº‘æœåŠ¡å™¨ï¼Œä¸€ä¸ªæœˆ30-60å—
- **Claudeè®¢é˜…**: çœ‹ä½ æ€ä¹ˆåˆ†æ‘Šäº†
- **å…¶ä»–**: åŸŸåï¼ˆå¯é€‰ï¼‰

---

## ğŸ“¦ æ‰‹åŠ¨éƒ¨ç½²

### ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡

**Ubuntu/Debianç”¨æˆ·ï¼š**
```bash
# å®‰è£…Node.js
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# å®‰è£…Redis
sudo apt update
sudo apt install redis-server
sudo systemctl start redis-server
```

**CentOS/RHELç”¨æˆ·ï¼š**
```bash
# å®‰è£…Node.js
curl -fsSL https://rpm.nodesource.com/setup_18.x | sudo bash -
sudo yum install -y nodejs

# å®‰è£…Redis
sudo yum install redis
sudo systemctl start redis
```

### ç¬¬äºŒæ­¥ï¼šä¸‹è½½å’Œé…ç½®

```bash
# ä¸‹è½½é¡¹ç›®
git clone https://github.com/yourusername/claude-relay-service.git
cd claude-relay-service

# å®‰è£…ä¾èµ–
npm install

# å¤åˆ¶é…ç½®æ–‡ä»¶ï¼ˆé‡è¦ï¼ï¼‰
cp config/config.example.js config/config.js
cp .env.example .env
```

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®æ–‡ä»¶è®¾ç½®

**ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š**
```bash
# è¿™ä¸¤ä¸ªå¯†é’¥éšä¾¿ç”Ÿæˆï¼Œä½†è¦è®°ä½
JWT_SECRET=ä½ çš„è¶…çº§ç§˜å¯†å¯†é’¥
ENCRYPTION_KEY=32ä½çš„åŠ å¯†å¯†é’¥éšä¾¿å†™

# Redisé…ç½®
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
```

**ç¼–è¾‘ `config/config.js` æ–‡ä»¶ï¼š**
```javascript
module.exports = {
  server: {
    port: 3000,          // æœåŠ¡ç«¯å£ï¼Œå¯ä»¥æ”¹
    host: '0.0.0.0'     // ä¸ç”¨æ”¹
  },
  redis: {
    host: '127.0.0.1',  // Redisåœ°å€
    port: 6379          // Redisç«¯å£
  },
  // å…¶ä»–é…ç½®ä¿æŒé»˜è®¤å°±è¡Œ
}
```

### ç¬¬å››æ­¥ï¼šå¯åŠ¨æœåŠ¡

```bash
# åˆå§‹åŒ–
npm run setup # ä¼šéšæœºç”Ÿæˆåå°è´¦å·å¯†ç ä¿¡æ¯ï¼Œå­˜å‚¨åœ¨ data/Init.json

# å¯åŠ¨æœåŠ¡
npm run service:start:daemon   # åå°è¿è¡Œï¼ˆæ¨èï¼‰

# æŸ¥çœ‹çŠ¶æ€
npm run service:status
```

---

## ğŸ® å¼€å§‹ä½¿ç”¨

### 1. æ‰“å¼€ç®¡ç†ç•Œé¢

æµè§ˆå™¨è®¿é—®ï¼š`http://ä½ çš„æœåŠ¡å™¨IP:3000/web`

é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼šdata/Init.json ä¸­å¯»æ‰¾

### 2. æ·»åŠ Claudeè´¦æˆ·

è¿™ä¸€æ­¥æ¯”è¾ƒå…³é”®ï¼Œéœ€è¦OAuthæˆæƒï¼š

1. ç‚¹å‡»ã€ŒClaudeè´¦æˆ·ã€æ ‡ç­¾
2. å¦‚æœä½ æ‹…å¿ƒå¤šä¸ªè´¦å·å…±ç”¨1ä¸ªIPæ€•è¢«å°ç¦ï¼Œå¯ä»¥é€‰æ‹©è®¾ç½®é™æ€ä»£ç†IPï¼ˆå¯é€‰ï¼‰
3. ç‚¹å‡»ã€Œæ·»åŠ è´¦æˆ·ã€
4. ç‚¹å‡»ã€Œç”Ÿæˆæˆæƒé“¾æ¥ã€ï¼Œä¼šæ‰“å¼€ä¸€ä¸ªæ–°é¡µé¢
5. åœ¨æ–°é¡µé¢å®ŒæˆClaudeç™»å½•å’Œæˆæƒ
6. å¤åˆ¶è¿”å›çš„Authorization Code
7. ç²˜è´´åˆ°é¡µé¢å®Œæˆæ·»åŠ 

**æ³¨æ„**: å¦‚æœä½ åœ¨å›½å†…ï¼Œè¿™ä¸€æ­¥å¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘ã€‚

### 3. åˆ›å»ºAPI Key

ç»™æ¯ä¸ªä½¿ç”¨è€…åˆ†é…ä¸€ä¸ªKeyï¼š

1. ç‚¹å‡»ã€ŒAPI Keysã€æ ‡ç­¾
2. ç‚¹å‡»ã€Œåˆ›å»ºæ–°Keyã€
3. ç»™Keyèµ·ä¸ªåå­—ï¼Œæ¯”å¦‚ã€Œå¼ ä¸‰çš„Keyã€
4. è®¾ç½®ä½¿ç”¨é™åˆ¶ï¼ˆå¯é€‰ï¼‰
5. ä¿å­˜ï¼Œè®°ä¸‹ç”Ÿæˆçš„Key

### 4. å¼€å§‹ä½¿ç”¨API

ç°åœ¨ä½ å¯ä»¥ç”¨è‡ªå·±çš„æœåŠ¡æ›¿æ¢å®˜æ–¹APIäº†ï¼š

**åŸæ¥çš„è¯·æ±‚ï¼š**
```bash
curl https://api.anthropic.com/v1/messages \
  -H "x-api-key: å®˜æ–¹çš„key" \
  -H "content-type: application/json" \
  -d '{"model":"claude-3-sonnet-20240229","messages":[{"role":"user","content":"ä½ å¥½"}]}'
```

**ç°åœ¨çš„è¯·æ±‚ï¼š**
```bash
curl http://ä½ çš„åŸŸå:3000/api/v1/messages \
  -H "x-api-key: cr_ä½ åˆ›å»ºçš„key" \
  -H "content-type: application/json" \
  -d '{"model":"claude-3-sonnet-20240229","messages":[{"role":"user","content":"ä½ å¥½"}]}'
```

å°±æ˜¯æŠŠåŸŸåæ¢ä¸€ä¸‹ï¼ŒAPI Keyæ¢æˆä½ è‡ªå·±ç”Ÿæˆçš„ï¼Œå…¶ä»–éƒ½ä¸€æ ·ã€‚

---

## ğŸ”§ æ—¥å¸¸ç»´æŠ¤

### æœåŠ¡ç®¡ç†

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
npm run service:status

# æŸ¥çœ‹æ—¥å¿—
npm run service:logs

# é‡å¯æœåŠ¡
npm run service:restart:daemon

# åœæ­¢æœåŠ¡
npm run service:stop
```

### ç›‘æ§ä½¿ç”¨æƒ…å†µ

- **Webç•Œé¢**: `http://ä½ çš„åŸŸå:3000/web` - æŸ¥çœ‹ä½¿ç”¨ç»Ÿè®¡
- **å¥åº·æ£€æŸ¥**: `http://ä½ çš„åŸŸå:3000/health` - ç¡®è®¤æœåŠ¡æ­£å¸¸
- **æ—¥å¿—æ–‡ä»¶**: `logs/` ç›®å½•ä¸‹çš„å„ç§æ—¥å¿—æ–‡ä»¶

### å¸¸è§é—®é¢˜å¤„ç†

**Redisè¿ä¸ä¸Šï¼Ÿ**
```bash
# æ£€æŸ¥Redisæ˜¯å¦å¯åŠ¨
redis-cli ping

# åº”è¯¥è¿”å› PONG
```

**OAuthæˆæƒå¤±è´¥ï¼Ÿ**
- æ£€æŸ¥ä»£ç†è®¾ç½®æ˜¯å¦æ­£ç¡®
- ç¡®ä¿èƒ½æ­£å¸¸è®¿é—® claude.ai
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜é‡è¯•

**APIè¯·æ±‚å¤±è´¥ï¼Ÿ**
- æ£€æŸ¥API Keyæ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶æ‰¾é”™è¯¯ä¿¡æ¯
- ç¡®è®¤Claudeè´¦æˆ·çŠ¶æ€æ­£å¸¸

---

## ğŸ› ï¸ è¿›é˜¶


### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å»ºè®®ï¼ˆé‡è¦ï¼ï¼‰

**å¼ºçƒˆå»ºè®®ä½¿ç”¨nginxåå‘ä»£ç† + SSLè¯ä¹¦**

å»ºè®®ä½¿ç”¨nginxåå‘ä»£ç†å¹¶é…ç½®SSLè¯ä¹¦ï¼šï¼ˆä»¥ä¸‹ä¸ºNginxç¤ºä¾‹ï¼Œå¦‚ä¸æƒ³æŠ˜è…¾å¯ä»¥é€‰æ‹©å®‰è£…é¢æ¿è¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚å®å¡”ã€1panelç­‰ï¼‰

**1. å®‰è£…nginxå’Œè·å–SSLè¯ä¹¦**
```bash
# Ubuntu/Debian
sudo apt install nginx certbot python3-certbot-nginx

# è·å–å…è´¹SSLè¯ä¹¦ï¼ˆä»¥Let's Encryptä¸ºä¾‹ï¼‰
sudo certbot --nginx -d your-domain.com
```

**2. nginxé…ç½®ç¤ºä¾‹**

åˆ›å»º `/etc/nginx/sites-available/claude-relay` é…ç½®æ–‡ä»¶ï¼š
```nginx
server {
    listen 80;
    server_name your-domain.com;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name your-domain.com;
    
    # SSLé…ç½®
    ssl_certificate /etc/letsencrypt/live/your-domain.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/your-domain.com/privkey.pem;
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;
    
    # å®‰å…¨å¤´
    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;
    add_header X-Frame-Options DENY;
    add_header X-Content-Type-Options nosniff;
    
    # åå‘ä»£ç†é…ç½®
    location / {
        proxy_pass http://127.0.0.1:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
        
        # è¶…æ—¶è®¾ç½®
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }
}
```

**3. å¯ç”¨é…ç½®**
```bash
# å¯ç”¨ç«™ç‚¹
sudo ln -s /etc/nginx/sites-available/claude-relay /etc/nginx/sites-enabled/

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡å¯nginx
sudo systemctl restart nginx
```

**4. æ›´æ–°æœåŠ¡é…ç½®**

ä¿®æ”¹ä½ çš„æœåŠ¡é…ç½®ï¼Œè®©å®ƒåªç›‘å¬æœ¬åœ°ï¼š
```javascript
// config/config.js
module.exports = {
  server: {
    port: 3000,
    host: '127.0.0.1'  // åªç›‘å¬æœ¬åœ°ï¼Œé€šè¿‡nginxä»£ç†
  }
  // ... å…¶ä»–é…ç½®
}
```

**5. ä½¿ç”¨HTTPS API**

é…ç½®å®Œæˆåï¼Œä½ çš„APIåœ°å€å˜ä¸ºï¼š
```bash
curl https://your-domain.com/api/v1/messages \
  -H "x-api-key: cr_your-key" \
  -H "content-type: application/json" \
  -d '{"model":"claude-3-sonnet-20240229","messages":[{"role":"user","content":"ä½ å¥½"}]}'
```

**å®‰å…¨ä¼˜åŠ¿ï¼š**
- ğŸ”’ **æ•°æ®åŠ å¯†**: æ‰€æœ‰APIè¯·æ±‚éƒ½é€šè¿‡HTTPSåŠ å¯†ä¼ è¾“
- ğŸ›¡ï¸ **éšè—ç«¯å£**: ä¸ç›´æ¥æš´éœ²æœåŠ¡ç«¯å£ï¼Œé™ä½æ”»å‡»é¢
- ğŸš€ **æ›´å¥½æ€§èƒ½**: nginxçš„é™æ€æ–‡ä»¶æœåŠ¡å’Œç¼“å­˜èƒ½åŠ›
- ğŸ“Š **è®¿é—®æ—¥å¿—**: nginxæä¾›è¯¦ç»†çš„è®¿é—®æ—¥å¿—å’Œç›‘æ§


---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### è´¦æˆ·ç®¡ç†
- **å®šæœŸæ£€æŸ¥**: æ¯å‘¨çœ‹çœ‹è´¦æˆ·çŠ¶æ€ï¼ŒåŠæ—¶å¤„ç†å¼‚å¸¸
- **åˆç†åˆ†é…**: å¯ä»¥ç»™ä¸åŒçš„äººåˆ†é…ä¸åŒçš„apikeyï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„apikeyæ¥åˆ†æç”¨é‡

### å®‰å…¨å»ºè®®
- **ä½¿ç”¨HTTPS**: å¼ºçƒˆå»ºè®®é…ç½®nginxåå‘ä»£ç†å’ŒSSLè¯ä¹¦ï¼Œç¡®ä¿æ•°æ®ä¼ è¾“å®‰å…¨
- **å®šæœŸå¤‡ä»½**: é‡è¦é…ç½®å’Œæ•°æ®è¦å¤‡ä»½
- **ç›‘æ§æ—¥å¿—**: å®šæœŸæŸ¥çœ‹å¼‚å¸¸æ—¥å¿—
- **æ›´æ–°å¯†é’¥**: å®šæœŸæ›´æ¢JWTå’ŒåŠ å¯†å¯†é’¥
- **é˜²ç«å¢™è®¾ç½®**: åªå¼€æ”¾å¿…è¦çš„ç«¯å£ï¼ˆ80, 443ï¼‰ï¼Œéšè—ç›´æ¥æœåŠ¡ç«¯å£

---

## ğŸ†˜ é‡åˆ°é—®é¢˜æ€ä¹ˆåŠï¼Ÿ

### è‡ªåŠ©æ’æŸ¥
1. **æŸ¥çœ‹æ—¥å¿—**: `logs/` ç›®å½•ä¸‹çš„æ—¥å¿—æ–‡ä»¶
2. **æ£€æŸ¥é…ç½®**: ç¡®è®¤é…ç½®æ–‡ä»¶è®¾ç½®æ­£ç¡®
3. **æµ‹è¯•è¿é€šæ€§**: ç”¨ curl æµ‹è¯•APIæ˜¯å¦æ­£å¸¸
4. **é‡å¯æœåŠ¡**: æœ‰æ—¶å€™é‡å¯ä¸€ä¸‹å°±å¥½äº†

### å¯»æ±‚å¸®åŠ©
- **GitHub Issues**: æäº¤è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
- **æŸ¥çœ‹æ–‡æ¡£**: ä»”ç»†é˜…è¯»é”™è¯¯ä¿¡æ¯å’Œæ–‡æ¡£
- **ç¤¾åŒºè®¨è®º**: çœ‹çœ‹å…¶ä»–äººæ˜¯å¦é‡åˆ°ç±»ä¼¼é—®é¢˜

---

## ğŸ“„ è®¸å¯è¯
æœ¬é¡¹ç›®é‡‡ç”¨ [MITè®¸å¯è¯](LICENSE)ã€‚

---

<div align="center">

**â­ è§‰å¾—æœ‰ç”¨çš„è¯ç»™ä¸ªStarå‘—ï¼Œè¿™æ˜¯å¯¹ä½œè€…æœ€å¤§çš„é¼“åŠ±ï¼**

**ğŸ¤ æœ‰é—®é¢˜æ¬¢è¿æIssueï¼Œæœ‰æ”¹è¿›å»ºè®®æ¬¢è¿PR**

</div>